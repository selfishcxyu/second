"use strict";(self["webpackChunkbylw"]=self["webpackChunkbylw"]||[]).push([[827],{9827:function(t,e,l){l.r(e),l.d(e,{default:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pay"},[e("div",{staticClass:"search"},[e("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入楼宇","prefix-icon":"el-icon-search",clearable:""},model:{value:t.building,callback:function(e){t.building="string"===typeof e?e.trim():e},expression:"building"}}),e("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入门牌号","prefix-icon":"el-icon-search",clearable:""},model:{value:t.doorplate,callback:function(e){t.doorplate="string"===typeof e?e.trim():e},expression:"doorplate"}}),e("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:t.load}},[t._v("搜索")]),e("el-button",{attrs:{type:"warning"},on:{click:function(e){t.building="",t.doorplate="",t.resident=""}}},[t._v("重置")])],1),e("el-button",{staticStyle:{margin:"10px 10px 10px 0"},attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新增缴费信息 "),e("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"14px"}})]),e("el-dialog",{attrs:{title:"缴费信息新增/更新",visible:t.dialogFormVisible,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{attrs:{model:t.form,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"门牌号"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.doorplate,callback:function(e){t.$set(t.form,"doorplate",e)},expression:"form.doorplate"}})],1),e("el-form-item",{attrs:{label:"楼宇"}},[e("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.form.building,callback:function(e){t.$set(t.form,"building",e)},expression:"form.building"}},[e("el-option",{attrs:{value:"happyA"}}),e("el-option",{attrs:{value:"happyB"}})],1)],1),e("el-form-item",{attrs:{label:"费用类型"}},[e("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[e("el-option",{attrs:{value:"水费"}}),e("el-option",{attrs:{value:"物业费"}})],1)],1),e("el-form-item",{attrs:{label:"缴费金额"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.money,callback:function(e){t.$set(t.form,"money",e)},expression:"form.money"}})],1),e("el-form-item",{attrs:{label:"是否已缴费"}},[e("el-select",{model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},[e("el-option",{attrs:{value:"未支付"}}),e("el-option",{attrs:{value:"已缴费"}})],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1,t.form={}}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1),e("el-popconfirm",{staticStyle:{"margin-left":"5px"},attrs:{"confirm-button-text":"确认","cancel-button-text":"我再想想",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:t.delBatch}},[e("el-button",{staticStyle:{margin:"10px 10px 10px 0"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v("批量删除 "),e("i",{staticClass:"el-icon-delete-solid",staticStyle:{"font-size":"14px"}})])],1),e("el-table",{staticStyle:{width:"100%","margin-bottom":"15px"},attrs:{data:t.tableData,stripe:"",border:""},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),e("el-table-column",{attrs:{prop:"id",label:"id",width:"60"}}),e("el-table-column",{attrs:{prop:"doorplate",label:"门牌号",width:"90"}}),e("el-table-column",{attrs:{prop:"building",label:"楼宇",width:"90"}}),e("el-table-column",{attrs:{prop:"type",label:"费用类型",width:"90"}}),e("el-table-column",{attrs:{prop:"money",label:"缴费金额",width:"90"}}),e("el-table-column",{attrs:{prop:"createTime",label:"开始时间",width:"110"}}),e("el-table-column",{attrs:{prop:"payTime",label:"缴费时间",width:"110"}}),e("el-table-column",{attrs:{prop:"state",label:"是否已缴费",width:"180"},scopedSlots:t._u([{key:"default",fn:function(l){return["未支付"==l.row.state?e("span",{staticClass:"text",staticStyle:{backgroundColor:"#909399"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(l.row.state))]):e("span",{staticClass:"text",staticStyle:{backgroundColor:"#67C23A"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(l.row.state))])]}}])}),e("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.handleEdit(l.row)}}},[t._v("编辑 "),e("i",{staticClass:"el-icon-edit"})]),e("el-popconfirm",{staticStyle:{"margin-left":"5px"},attrs:{"confirm-button-text":"确认","cancel-button-text":"我再想想",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(e){return t.handleDelete(l.row.id)}}},[e("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[t._v("删除 "),e("i",{staticClass:"el-icon-remove-outline"})])],1)]}}])})],1),e("el-pagination",{attrs:{"current-page":t.pageNum,"page-sizes":[5,10,15,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},o=[],i={name:"Pay",data(){return{tableData:[],pageNum:1,pageSize:10,total:0,building:"",doorplate:"",dialogFormVisible:!1,form:{doorplate:"",building:"",type:"",money:"",state:"",payTime:""},multipleSelection:[]}},created(){this.load()},methods:{handleSizeChange(t){this.pageSize=t,this.load()},handleCurrentChange(t){this.pageNum=t,this.load()},load(){this.request.get("/api/pay/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,building:this.building,doorplate:this.doorplate}}).then((t=>{"200"===t.code&&(this.tableData=t.data.records,this.total=t.data.total)}))},handleEdit(t){this.form=t,this.dialogFormVisible=!0},handleDelete(t){this.request.delete("/api/pay/"+t).then((t=>{"200"===t.code?(this.$message.success("删除成功"),this.load()):this.$message.error("删除失败")}))},handleAdd(){this.form={},this.dialogFormVisible=!0},save(){"已缴费"===this.form.state&&(this.form.payTime=this.tool.getNowDate()),this.request.post("/api/pay",this.form).then((t=>{"200"===t.code?(this.$message.success("新增/编辑成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("新增/编辑失败")}))},handleSelectionChange(t){this.multipleSelection=t},delBatch(){let t=this.multipleSelection.map((t=>t.id));this.request.delete("api/pay/batch",{data:t}).then((t=>{"200"===t.code?(this.$message.success("批量删除成功"),this.load()):this.$message.error("批量删除失败")}))}}},s=i,r=l(1001),n=(0,r.Z)(s,a,o,!1,null,"06036553",null),c=n.exports}}]);
//# sourceMappingURL=827.d72310f1.js.map