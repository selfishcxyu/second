{"version":3,"file":"js/811.56434544.js","mappings":"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","sources":["webpack://bylw/./src/views/Residence/ResidenceUser.vue","webpack://bylw/src/views/Residence/ResidenceUser.vue","webpack://bylw/./src/views/Residence/ResidenceUser.vue?d2f1","webpack://bylw/./src/views/Residence/ResidenceUser.vue?8768"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"residence\"},[_c('div',{staticClass:\"search\"},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入楼宇\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},model:{value:(_vm.building),callback:function ($$v) {_vm.building=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"building\"}}),_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入门牌号\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},model:{value:(_vm.doorplate),callback:function ($$v) {_vm.doorplate=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"doorplate\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.load}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.building='',_vm.doorplate=''}}},[_vm._v(\"重置\")]),_c('el-tag',{staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(\"个人房产请前往个人信息查看...\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"15px\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"doorplate\",\"label\":\"门牌号\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"building\",\"label\":\"楼宇\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"size\",\"label\":\"规格\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"价格/w\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"area\",\"label\":\"面积/m²\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"note\",\"label\":\"备注\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"top\",\"width\":\"400\",\"trigger\":\"hover\"}},[_c('span',[_vm._v(\"备注:\"+_vm._s(scope.row.note))]),_c('span',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(_vm._s(scope.row.note ? scope.row.note : ''))])])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popconfirm',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"confirm-button-text\":\"确认\",\"cancel-button-text\":\"我再想想\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"您确定购买吗？\"},on:{\"confirm\":function($event){return _vm.handlePurchase(scope.row)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"primary\"},slot:\"reference\"},[_vm._v(\"购买 \"),_c('i',{staticClass:\"el-icon-remove-outline\"})])],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"residence\">\r\n    <!-- 居民查看未购买或租用的房源信息 -->\r\n    <!-- 搜索 -->\r\n    <div class=\"search\">\r\n      <el-input placeholder=\"请输入楼宇\" style=\"width:200px\" prefix-icon=\"el-icon-search\" clearable v-model.trim=\"building\"></el-input>\r\n      <el-input placeholder=\"请输入门牌号\" style=\"width:200px\" prefix-icon=\"el-icon-search\" clearable v-model.trim=\"doorplate\"></el-input>\r\n      <el-button @click=\"load\" type=\"primary\" style=\"margin-left: 5px;\">搜索</el-button>\r\n      <el-button @click=\"building='',doorplate=''\" type=\"warning\">重置</el-button>\r\n      <el-tag style=\"margin-left: 20px;\">个人房产请前往个人信息查看...</el-tag>\r\n    </div>\r\n    <!-- data -->\r\n    <el-table :data=\"tableData\" stripe border style=\"width: 100%; margin-bottom: 15px;\" >\r\n      <el-table-column prop=\"doorplate\" label=\"门牌号\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"building\" label=\"楼宇\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"size\" label=\"规格\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"price\" label=\"价格/w\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"area\" label=\"面积/m²\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"note\" label=\"备注\" :show-overflow-tooltip='true'>\r\n        <template slot-scope=\"scope\">\r\n          <el-popover placement=\"top\" width=\"400\" trigger=\"hover\">\r\n\t\t\t\t\t\t<span>备注:{{scope.row.note}}</span>\r\n\t\t\t\t\t\t<span slot=\"reference\">{{scope.row.note ? scope.row.note : ''}}</span>\r\n\t\t\t\t\t</el-popover>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popconfirm\r\n            style=\"margin-left: 5px;\"\r\n            confirm-button-text='确认'\r\n            cancel-button-text='我再想想'\r\n            icon=\"el-icon-info\"\r\n            icon-color=\"red\"\r\n            title=\"您确定购买吗？\"\r\n            @confirm=\"handlePurchase(scope.row)\"\r\n          >\r\n            <el-button slot=\"reference\" size=\"mini\" type=\"primary\">购买 <i class=\"el-icon-remove-outline\"></i></el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n  </el-table>\r\n\r\n    <!-- 分页器 -->\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"pageNum\"\r\n      :page-sizes=\"[5, 10, 15, 20]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'ResidenceUser',\r\n    data() {\r\n      return {\r\n        tableData:[],\r\n        pageNum:1,  //当前页数\r\n        pageSize:5,   //页数的大小\r\n        total:0,\r\n        building:'',\r\n        doorplate:'',\r\n        req:{\r\n          id:JSON.parse(sessionStorage.getItem(\"user\")).id || null,\r\n          nickname:JSON.parse(sessionStorage.getItem(\"user\")).nickname || '',\r\n        },\r\n        dialogFormVisible: false, //新增按钮的表单对话框的显示\r\n      }\r\n    },\r\n    created() {\r\n      this.load()\r\n    },\r\n    methods: {\r\n      handleSizeChange(val) {\r\n        this.pageSize = val\r\n        this.load()\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.pageNum = val\r\n        this.load()\r\n      },\r\n      //获取未出租或出售的房源信息\r\n      load(){\r\n        this.request.get('/api/residence/page',\r\n        {params:{pageNum:this.pageNum,pageSize:this.pageSize,building:this.building,doorplate:this.doorplate,other:'other'}})\r\n        .then((value) => {\r\n          if(value.code === '200'){\r\n            this.tableData=value.data.records\r\n            this.total=value.data.total\r\n            this.$message.success(\"get residence success\")\r\n          }\r\n        })\r\n      },\r\n      handlePurchase(row) {\r\n        this.request.post('/api/residence',{id:row.id,req:JSON.stringify(this.req)}).then(res=>{\r\n          if(res.code === '200'){\r\n            this.$message.success(\"等待核实\")\r\n          }else{\r\n            this.$message.error(\"error\")\r\n          }\r\n        })  \r\n      },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.residence{\r\n  .search{\r\n    margin-bottom: 15px;\r\n    .el-input{\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n  .el-table .warning-row {\r\n    background: oldlace;\r\n  }\r\n\r\n  .el-table .success-row {\r\n    background: #f0f9eb;\r\n  }\r\n  .el-tooltip__popper{\r\n    display: none;\r\n  }\r\n  .el-popover{\r\n    border: 1px solid #333;\r\n    min-height: 150px;\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ResidenceUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ResidenceUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResidenceUser.vue?vue&type=template&id=97d3e1c0&scoped=true&\"\nimport script from \"./ResidenceUser.vue?vue&type=script&lang=js&\"\nexport * from \"./ResidenceUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResidenceUser.vue?vue&type=style&index=0&id=97d3e1c0&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97d3e1c0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","model","value","building","callback","$$v","trim","expression","doorplate","on","load","_v","$event","tableData","scopedSlots","_u","key","fn","scope","_s","row","note","slot","handlePurchase","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","name","data","req","id","nickname","dialogFormVisible","created","methods","params","other","then","component"],"sourceRoot":""}