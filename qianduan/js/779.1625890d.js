"use strict";(self["webpackChunkbylw"]=self["webpackChunkbylw"]||[]).push([[779],{3779:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticStyle:{"margin-bottom":"20px","text-align":"center"}},[t._v(" 欢迎来到社区物业管理系统~~ ")]),e("el-row",{attrs:{gutter:-10}},[e("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:12}},[e("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("el-tag",{staticStyle:{fontSize:"14px"}},[t._v("最新公告")]),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.toNotice}},[t._v("查看更多公告...")])],1),e("h1",{staticClass:"text item center"},[t._v(t._s(t.notice.title))]),e("p",{staticClass:"center",staticStyle:{"margin-bottom":"25px"}},[t._v(" "+t._s(t.notice.content))]),e("p",{staticStyle:{"text-align":"right"}},[t._v("发布时间："+t._s(t.notice.time))])])],1),e("el-col",{attrs:{span:12}},[e("el-card",{attrs:{shadow:"hover"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("el-tag",{staticStyle:{fontSize:"14px"},attrs:{type:"danger"}},[t._v("欠费通知")]),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.toPay}},[t._v("前往缴费")])],1),e("div",{staticStyle:{display:"flex","flex-direction":"column","text-align":"center"}},[e("el-tag",{staticStyle:{fontSize:"16px","margin-bottom":"10px"},attrs:{type:"primary"}},[t._v("您有"+t._s(t.houseLength)+"处房产")]),e("el-tag",{staticStyle:{fontSize:"16px"},attrs:{type:"warning"}},[t._v("您还有"+t._s(t.noPayLength)+"条费用需缴纳")])],1)])],1)],1)],1)},i=[],o=(a(7658),{name:"Home",data(){return{user:JSON.parse(sessionStorage.getItem("user"))||"",notice:"",houseLength:0,noPayLength:0}},created(){sessionStorage.setItem("tabList",JSON.stringify(this.$store.state.man.tabList)),this.getNotice(),this.getPayInfo()},methods:{getNotice(){this.request.get("/api/notice/new").then((t=>{"200"===t.code&&(this.notice=t.data)}))},async getPayInfo(){const t=await this.getDoorplate();if(this.houseLength=t.data.length,null!==t.data)for(let e of t.data)this.request.get("/api/pay/nopay/"+e.doorplate).then((t=>{"200"===t.code&&(this.noPayLength+=t.data.length)}));sessionStorage.setItem("residence",JSON.stringify(t.data))},getDoorplate(){return this.request.get("/api/residence/"+this.user.id)},toNotice(){this.$router.push({path:"notice"}),this.$store.commit("man/tabListAdd",{path:"notice",name:"公告"})},toPay(){this.$router.push({path:"payUser"}),this.$store.commit("man/tabListAdd",{path:"payUser",name:"生活缴费"})}}}),n=o,r=a(1001),l=(0,r.Z)(n,s,i,!1,null,"9304d834",null),c=l.exports}}]);
//# sourceMappingURL=779.1625890d.js.map