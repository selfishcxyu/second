{"version":3,"file":"js/759.1000337b.js","mappings":"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","sources":["webpack://bylw/./src/views/Warehouse/Warehouse.vue","webpack://bylw/src/views/Warehouse/Warehouse.vue","webpack://bylw/./src/views/Warehouse/Warehouse.vue?6bc6","webpack://bylw/./src/views/Warehouse/Warehouse.vue?8647"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"Warehouse\"},[_c('div',{staticClass:\"search\"},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"物品名称\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"name\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.load}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.name=''}}},[_vm._v(\"重置\")])],1),_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增物品 \"),_c('i',{staticClass:\"el-icon-circle-plus-outline\",staticStyle:{\"font-size\":\"14px\"}})]),_c('el-tag',{staticStyle:{\"margin\":\"15px 50px 0 15px\"}},[_vm._v(\"请确认物品变更无误\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.openHistoryInfo}},[_vm._v(\"GO!\")]),_c('el-tag',{staticStyle:{\"margin\":\"15px 0 0 15px\"}},[_vm._v(\"前往仓库物品历史变更信息...\")]),_c('el-drawer',{attrs:{\"title\":\"仓库历史信息\",\"visible\":_vm.drawer,\"size\":\"50%\"},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"15px\"},attrs:{\"data\":_vm.tableData2,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"id\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"汇报人\",\"width\":\"90\"}}),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"汇报时间\",\"width\":\"140\"}}),_c('el-table-column',{attrs:{\"prop\":\"place\",\"label\":\"地点\",\"width\":\"90\"}}),_c('el-table-column',{attrs:{\"prop\":\"facility\",\"label\":\"设备\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"situation\",\"label\":\"情况\",\"width\":\"140\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"132\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return (_vm.user.level === 'admin')?[_c('el-popconfirm',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"confirm-button-text\":\"确认\",\"cancel-button-text\":\"再想想\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"您确定删除吗？\"},on:{\"confirm\":function($event){return _vm.handleDeleteH(scope.row.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除 \"),_c('i',{staticClass:\"el-icon-remove-outline\"})])],1)]:undefined}}],null,true)})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum2,\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.pageSize2,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total2},on:{\"size-change\":_vm.handleSizeChange2,\"current-change\":_vm.handleCurrentChange2}})],1)])],1),_c('el-dialog',{attrs:{\"title\":\"物品信息\",\"visible\":_vm.dialogFormVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"数量\"}},[_c('el-input',{model:{value:(_vm.form.count),callback:function ($$v) {_vm.$set(_vm.form, \"count\", $$v)},expression:\"form.count\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),(_vm.edit)?_c('el-form-item',{attrs:{\"label\":\"使用情况\"}},[_c('el-select',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"placeholder\":\"请选择物品状态\"},model:{value:(_vm.WareUse.state),callback:function ($$v) {_vm.$set(_vm.WareUse, \"state\", $$v)},expression:\"WareUse.state\"}},[_c('el-option',{attrs:{\"value\":\"使用\"}}),_c('el-option',{attrs:{\"value\":\"增添\"}})],1),_c('el-input',{attrs:{\"placeholder\":\"请输入物品数量\"},model:{value:(_vm.WareUse.count),callback:function ($$v) {_vm.$set(_vm.WareUse, \"count\", $$v)},expression:\"WareUse.count\"}})],1):_vm._e()],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"15px\"},attrs:{\"data\":_vm.tableData1,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\",\"width\":\"87\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"count\",\"label\":\"数量\",\"width\":\"130\"}}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"描述\",\"width\":\"220\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"230\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row,{edit:true})}}},[_vm._v(\"编辑 \"),_c('i',{staticClass:\"el-icon-edit\"})]),_c('el-popconfirm',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"confirm-button-text\":\"确认\",\"cancel-button-text\":\"再想想\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"您确定删除吗？\"},on:{\"confirm\":function($event){return _vm.handleDelete(scope.row.id)}}},[(_vm.user.level === 'admin')?_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除 \"),_c('i',{staticClass:\"el-icon-remove-outline\"})]):_vm._e()],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum1,\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.pageSize1,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total1},on:{\"size-change\":_vm.handleSizeChange1,\"current-change\":_vm.handleCurrentChange1}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Warehouse\">\r\n    <!-- 搜索 -->\r\n    <div class=\"search\">\r\n      <el-input placeholder=\"物品名称\" style=\"width:200px\" prefix-icon=\"el-icon-search\" clearable v-model.trim=\"name\"></el-input>\r\n      <el-button @click=\"load\" type=\"primary\" style=\"margin-left: 5px;\">搜索</el-button>\r\n      <el-button @click=\"name=''\" type=\"warning\">重置</el-button>\r\n    </div>\r\n\r\n    <div style=\"margin-bottom: 15px;\">\r\n      <el-button type=\"primary\" @click=\"handleAdd\">新增物品 <i class=\"el-icon-circle-plus-outline\" style=\"font-size: 14px;\"></i></el-button>\r\n        <el-tag style=\"margin: 15px 50px 0 15px;\">请确认物品变更无误</el-tag>\r\n\r\n        <el-button type=\"primary\" size=\"medium\" @click=\"openHistoryInfo\">GO!</el-button>\r\n        <el-tag style=\"margin: 15px 0 0 15px;\">前往仓库物品历史变更信息...</el-tag>\r\n\r\n        <el-drawer\r\n          title=\"仓库历史信息\"\r\n          :visible.sync=\"drawer\"\r\n          size=\"50%\"\r\n          >\r\n          <div>\r\n            <el-table :data=\"tableData2\" stripe border style=\"width: 100%; margin-bottom: 15px;\">\r\n              <el-table-column prop=\"id\" label=\"id\" width=\"55\"></el-table-column>\r\n              <el-table-column prop=\"name\" label=\"汇报人\" width=\"90\"></el-table-column>\r\n              <el-table-column prop=\"time\" label=\"汇报时间\" width=\"140\"></el-table-column>\r\n              <el-table-column prop=\"place\" label=\"地点\" width=\"90\"></el-table-column>\r\n              <el-table-column prop=\"facility\" label=\"设备\" width=\"120\"></el-table-column>\r\n              <el-table-column prop=\"situation\" label=\"情况\" width=\"140\"></el-table-column>\r\n              <el-table-column label=\"操作\" width=\"132\">\r\n                <template slot-scope=\"scope\" v-if=\"user.level === 'admin'\">\r\n                  <el-popconfirm\r\n                    style=\"margin-left: 5px;\"\r\n                    confirm-button-text='确认'\r\n                    cancel-button-text='再想想'\r\n                    icon=\"el-icon-info\"\r\n                    icon-color=\"red\"\r\n                    title=\"您确定删除吗？\"\r\n                    @confirm=\"handleDeleteH(scope.row.id)\"\r\n                  >\r\n                    <el-button slot=\"reference\" size=\"mini\" type=\"danger\">删除 <i class=\"el-icon-remove-outline\"></i></el-button>\r\n                  </el-popconfirm>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n\r\n            <el-pagination\r\n              @size-change=\"handleSizeChange2\"\r\n              @current-change=\"handleCurrentChange2\"\r\n              :current-page=\"pageNum2\"\r\n              :page-sizes=\"[5, 10, 15, 20]\"\r\n              :page-size=\"pageSize2\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :total=\"total2\">\r\n            </el-pagination>\r\n          </div>\r\n        </el-drawer>\r\n    </div>\r\n\r\n    <el-dialog title=\"物品信息\" :visible.sync=\"dialogFormVisible\" width=\"500px\">\r\n      <el-form :model=\"form\" label-width=\"80px\">\r\n        <el-form-item label=\"名称\">\r\n          <el-input v-model=\"form.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"数量\">\r\n          <el-input v-model=\"form.count\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"描述\">\r\n          <el-input v-model=\"form.description\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"使用情况\" v-if=\"edit\">\r\n          <el-select v-model=\"WareUse.state\" placeholder=\"请选择物品状态\" style=\"margin-bottom: 10px;\">\r\n            <el-option value=\"使用\"></el-option>\r\n            <el-option value=\"增添\"></el-option>\r\n          </el-select>\r\n          <el-input v-model=\"WareUse.count\" placeholder=\"请输入物品数量\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n     \r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n      <!-- data -->\r\n      <el-table :data=\"tableData1\" stripe border style=\"width: 100%; margin-bottom: 15px;\">\r\n        <el-table-column prop=\"id\" label=\"编号\" width=\"87\"></el-table-column>\r\n        <el-table-column prop=\"name\" label=\"名称\" width=\"150\"></el-table-column>\r\n        <el-table-column prop=\"count\" label=\"数量\" width=\"130\"></el-table-column>\r\n        <el-table-column prop=\"description\" label=\"描述\" width=\"220\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"230\">\r\n          <template slot-scope=\"scope\"> \r\n            <el-button size=\"mini\" type=\"primary\" @click=\"handleEdit(scope.row,{edit:true})\">编辑 <i class=\"el-icon-edit\"></i></el-button>\r\n            <el-popconfirm\r\n              style=\"margin-left: 5px;\"\r\n              confirm-button-text='确认'\r\n              cancel-button-text='再想想'\r\n              icon=\"el-icon-info\"\r\n              icon-color=\"red\"\r\n              title=\"您确定删除吗？\"\r\n              @confirm=\"handleDelete(scope.row.id)\"\r\n            >\r\n              <el-button slot=\"reference\" size=\"mini\" type=\"danger\" v-if=\"user.level === 'admin'\">删除 <i class=\"el-icon-remove-outline\"></i></el-button>\r\n            </el-popconfirm>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange1\"\r\n      @current-change=\"handleCurrentChange1\"\r\n      :current-page=\"pageNum1\"\r\n      :page-sizes=\"[5, 10, 15, 20]\"\r\n      :page-size=\"pageSize1\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total1\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'Warehouse',\r\n    data() {\r\n      return {\r\n        tableData1:[],\r\n        pageNum1:1,  //当前页数\r\n        pageSize1:5,   //页数的大小\r\n        total1:0,\r\n        tableData2:[],\r\n        pageNum2:1,  //当前页数\r\n        pageSize2:5,   //页数的大小\r\n        total2:0,\r\n        name:'',\r\n        user:JSON.parse(sessionStorage.getItem(\"user\")) || '',\r\n        form:{ name:'',count:'',description:'' },\r\n        dialogFormVisible: false, //新增按钮的表单对话框的显示\r\n        WareUse: { count:'',state:'' },\r\n        edit:false,  //判断是编辑还是新增\r\n        drawer: false,\r\n      }\r\n    },\r\n    created() {\r\n      this.load() //初始载入\r\n    },\r\n    methods: {\r\n      handleSizeChange1(val) {\r\n        this.pageSize1 = val\r\n        this.load()\r\n      },\r\n      handleCurrentChange1(val) {\r\n        this.pageNum1 = val\r\n        this.load()\r\n      },\r\n      handleSizeChange2(val) {\r\n        this.pageSize2 = val\r\n        this.load()\r\n      },\r\n      handleCurrentChange2(val) {\r\n        this.pageNum2 = val\r\n        this.load()\r\n      },\r\n      //获取数据库请求\r\n      load(){\r\n        this.request.get('/api/warehouse/page',{params:{pageNum:this.pageNum1,pageSize:this.pageSize1,name:this.name}})\r\n        .then((value) => {\r\n          if(value.code === '200'){\r\n            this.tableData1=value.data.records //获取用户列表\r\n            this.total1=value.data.total\r\n          }\r\n        })\r\n      },\r\n      handleDelete(id) {\r\n        this.request.delete('/api/warehouse/'+id).then(res=>{\r\n          if(res.code === '200'){\r\n            this.$message.success(\"删除成功\")\r\n            this.load()\r\n          }else{\r\n            this.$message.error(\"删除失败\")\r\n          }\r\n        })  \r\n      },\r\n      //只有管理员能删除(历史信息)\r\n      handleDeleteH(id) {\r\n        this.request.delete('/api/situation/'+id).then(res=>{\r\n          if(res.code === '200'){\r\n            this.$message.success(\"删除成功\")\r\n            this.getHistoryInfo()\r\n          }else{\r\n            this.$message.error(\"删除失败\")\r\n          }\r\n        })  \r\n      },\r\n      //新增按钮\r\n      handleAdd(){\r\n        this.form={}\r\n        this.dialogFormVisible = true\r\n      },\r\n      //编辑按钮\r\n      handleEdit(row,obj){\r\n        this.form=row\r\n        this.WareUse={}\r\n        if(obj.edit){\r\n          this.edit = true\r\n        }\r\n        this.dialogFormVisible=true\r\n      },\r\n      //新增对话框确定\r\n      save(){\r\n        if(this.WareUse.state == \"使用\"){\r\n          this.form.count -= this.WareUse.count\r\n        }else if(this.WareUse.state == \"增添\"){\r\n          this.form.count += (this.WareUse.count - 0)\r\n        }\r\n        //情况汇报处添加更改仓库信息记录\r\n        this.request.post('/api/situation',{ name:this.user.nickname, place:\"仓库\",facility:this.form.name,type:'warehouse',\r\n        situation: this.edit ? this.WareUse.state+'了'+this.WareUse.count+'件物品' : '新增新物品：'+this.form.name+' '+this.form.count+'件' },).then(res => {\r\n          if(res.code === '200'){\r\n            console.log(res);\r\n          }\r\n        })\r\n        this.request.post('/api/warehouse',this.form).then(res => {\r\n          if(res.code === '200'){\r\n            this.$message.success(\"新增/编辑成功\")\r\n            this.dialogFormVisible = false\r\n            this.edit = false\r\n            this.load()\r\n          }else{\r\n            this.$message.error(\"新增/编辑失败\")\r\n          }\r\n        })   \r\n      },\r\n      openHistoryInfo(){\r\n        this.drawer = true\r\n        this.getHistoryInfo()\r\n      },\r\n      getHistoryInfo(){\r\n        this.request.get('/api/situation/page',{params:{pageNum:this.pageNum2,pageSize:this.pageSize2,type:'warehouse'}}).then((value) => {\r\n          if(value.code === '200'){\r\n            this.tableData2=value.data.records \r\n            this.total2=value.data.total\r\n          }\r\n        })\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.Warehouse{\r\n  .search{\r\n    .el-input{\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n  .el-table .warning-row {\r\n    background: oldlace;\r\n  }\r\n\r\n  .el-table .success-row {\r\n    background: #f0f9eb;\r\n  }\r\n  .el-tooltip__popper{\r\n    display: none;\r\n  }\r\n  .el-popover{\r\n    border: 1px solid #333;\r\n    min-height: 150px;\r\n  }\r\n  //更改抽屉背景色和标题样式\r\n  /deep/.el-drawer.rtl {\r\n    background: #6aabc5;\r\n  }\r\n  /deep/.el-drawer__header{\r\n    color:#fff;\r\n    font-size:22px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Warehouse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Warehouse.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Warehouse.vue?vue&type=template&id=2e819e9b&scoped=true&\"\nimport script from \"./Warehouse.vue?vue&type=script&lang=js&\"\nexport * from \"./Warehouse.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Warehouse.vue?vue&type=style&index=0&id=2e819e9b&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e819e9b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","model","value","name","callback","$$v","trim","expression","on","load","_v","$event","handleAdd","openHistoryInfo","drawer","tableData2","scopedSlots","_u","key","fn","scope","user","level","handleDeleteH","row","id","slot","undefined","pageNum2","pageSize2","total2","handleSizeChange2","handleCurrentChange2","dialogFormVisible","form","$set","count","description","edit","WareUse","state","_e","save","tableData1","handleEdit","handleDelete","pageNum1","pageSize1","total1","handleSizeChange1","handleCurrentChange1","staticRenderFns","data","created","methods","params","pageNum","pageSize","then","place","facility","type","situation","console","getHistoryInfo","component"],"sourceRoot":""}