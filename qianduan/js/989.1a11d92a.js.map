{"version":3,"file":"js/989.1a11d92a.js","mappings":"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","sources":["webpack://bylw/./src/views/Complaint/Complaint.vue","webpack://bylw/src/views/Complaint/Complaint.vue","webpack://bylw/./src/views/Complaint/Complaint.vue?8701","webpack://bylw/./src/views/Complaint/Complaint.vue?5cb7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"Complaint\"},[_c('div',{staticClass:\"search\"},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"搜索投诉人门牌号\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},model:{value:(_vm.doorplate),callback:function ($$v) {_vm.doorplate=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"doorplate\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.load}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.doorplate=''}}},[_vm._v(\"重置\")])],1),_c('el-popconfirm',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"confirm-button-text\":\"确认\",\"cancel-button-text\":\"我再想想\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"您确定批量删除这些数据吗？\"},on:{\"confirm\":_vm.delBatch}},[_c('el-button',{staticStyle:{\"margin\":\"10px 10px 10px 0\"},attrs:{\"slot\":\"reference\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"批量删除 \"),_c('i',{staticClass:\"el-icon-delete-solid\",staticStyle:{\"font-size\":\"14px\"}})])],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"15px\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\",\"width\":\"70\"}}),_c('el-table-column',{attrs:{\"prop\":\"nickname\",\"label\":\"投诉人\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"doorplate\",\"label\":\"门牌号\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"pid\",\"label\":\"投诉人id\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"event\",\"label\":\"投诉事件\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"处理时间\",\"width\":\"190\"}}),_c('el-table-column',{attrs:{\"prop\":\"state\",\"label\":\"处理状态\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.state =='未处理')?_c('span',{staticClass:\"text\",staticStyle:{\"backgroundColor\":\"#909399\"}},[_vm._v(_vm._s(scope.row.state))]):(scope.row.state =='已处理')?_c('span',{staticClass:\"text\",staticStyle:{\"backgroundColor\":\"#67C23A\"}},[_vm._v(_vm._s(scope.row.state))]):_c('span',{staticClass:\"text\",staticStyle:{\"backgroundColor\":\"#E6A23C\"}},[_vm._v(_vm._s(scope.row.state))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popconfirm',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"confirm-button-text\":\"确认\",\"cancel-button-text\":\"我再想想\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"是否开启处理？\"},on:{\"confirm\":function($event){return _vm.handle(scope.row.id)}}},[(scope.row.state=='未处理')?_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"info\"},slot:\"reference\"},[_vm._v(\"处理 \"),_c('i',{staticClass:\"el-icon-remove-outline\"})]):_vm._e()],1),_c('el-popconfirm',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"confirm-button-text\":\"确认\",\"cancel-button-text\":\"再想想\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"您确定删除吗？\"},on:{\"confirm\":function($event){return _vm.handleDelete(scope.row.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除 \"),_c('i',{staticClass:\"el-icon-remove-outline\"})])],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Complaint\">\r\n    <!-- 搜索 admin-->\r\n    <div class=\"search\">\r\n      <el-input placeholder=\"搜索投诉人门牌号\" style=\"width:200px\" prefix-icon=\"el-icon-search\" clearable v-model.trim=\"doorplate\"></el-input>\r\n      <el-button @click=\"load\" type=\"primary\" style=\"margin-left: 5px;\">搜索</el-button>\r\n      <el-button @click=\"doorplate=''\" type=\"warning\">重置</el-button>\r\n    </div>\r\n\r\n    <!-- 批量删除按钮 admin-->\r\n    <el-popconfirm\r\n      style=\"margin-left: 5px;\"\r\n      confirm-button-text='确认'\r\n      cancel-button-text='我再想想'\r\n      icon=\"el-icon-info\"\r\n      icon-color=\"red\"\r\n      title=\"您确定批量删除这些数据吗？\"\r\n      @confirm=\"delBatch\"\r\n    >\r\n      <el-button type=\"danger\" slot=\"reference\" style=\"margin:10px 10px 10px 0;\">批量删除 <i class=\"el-icon-delete-solid\" style=\"font-size: 14px;\"></i></el-button>\r\n    </el-popconfirm>\r\n\r\n    <!-- data -->\r\n    <el-table\r\n      :data=\"tableData\"\r\n      stripe\r\n      border\r\n      style=\"width: 100%; margin-bottom: 15px;\"\r\n      @selection-change=\"handleSelectionChange\"\r\n    >\r\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n      <el-table-column prop=\"id\" label=\"编号\" width=\"70\"></el-table-column>\r\n      <el-table-column prop=\"nickname\" label=\"投诉人\" width=\"150\"></el-table-column>\r\n      <el-table-column prop=\"doorplate\" label=\"门牌号\" width=\"150\"></el-table-column>\r\n      <el-table-column prop=\"pid\" label=\"投诉人id\" width=\"80\"></el-table-column>\r\n      <el-table-column prop=\"event\" label=\"投诉事件\" width=\"200\"></el-table-column>\r\n      <el-table-column prop=\"time\" label=\"处理时间\" width=\"190\"></el-table-column>\r\n      <el-table-column prop=\"state\" label=\"处理状态\" width=\"160\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.state =='未处理'\" style=\"backgroundColor:#909399;\" class=\"text\">{{scope.row.state}}</span> \r\n          <span v-else-if=\"scope.row.state =='已处理'\" style=\"backgroundColor:#67C23A;\" class=\"text\">{{scope.row.state}}</span>\r\n          <span v-else style=\"backgroundColor:#E6A23C;\" class=\"text\">{{scope.row.state}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"200\">\r\n        <template slot-scope=\"scope\"> \r\n          <el-popconfirm\r\n            style=\"margin-left: 5px;\"\r\n            confirm-button-text='确认'\r\n            cancel-button-text='我再想想'\r\n            icon=\"el-icon-info\"\r\n            icon-color=\"red\"\r\n            title=\"是否开启处理？\"\r\n            @confirm=\"handle(scope.row.id)\"\r\n          >\r\n            <el-button slot=\"reference\" size=\"mini\" type=\"info\" v-if=\"scope.row.state=='未处理'\">处理 <i class=\"el-icon-remove-outline\"></i></el-button>\r\n          </el-popconfirm>\r\n          <el-popconfirm\r\n            style=\"margin-left: 5px;\"\r\n            confirm-button-text='确认'\r\n            cancel-button-text='再想想'\r\n            icon=\"el-icon-info\"\r\n            icon-color=\"red\"\r\n            title=\"您确定删除吗？\"\r\n            @confirm=\"handleDelete(scope.row.id)\"\r\n          >\r\n            <el-button slot=\"reference\" size=\"mini\" type=\"danger\">删除 <i class=\"el-icon-remove-outline\"></i></el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n  </el-table>\r\n\r\n    <!-- 分页器 -->\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"pageNum\"\r\n      :page-sizes=\"[5, 10, 15, 20]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'Complaint',\r\n    data() {\r\n      return {\r\n        tableData:[],\r\n        pageNum:1,  //当前页数\r\n        pageSize:5,   //页数的大小\r\n        total:0,\r\n        doorplate:'',\r\n        dialogFormVisible: false, //新增按钮的表单对话框的显示\r\n        multipleSelection:[],   //批量选择 列表\r\n      }\r\n    },\r\n    created() {\r\n      this.load() //初始载入\r\n    },\r\n    methods: {\r\n      handleSizeChange(val) {\r\n        this.pageSize = val\r\n        this.load()\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.pageNum = val\r\n        this.load()\r\n      },\r\n      //获取数据库请求\r\n      load(){\r\n        this.request.get('/api/complaint/page',{params:{pageNum:this.pageNum,pageSize:this.pageSize,doorplate:this.doorplate}})\r\n        .then((value) => {\r\n          if(value.code === '200'){\r\n            this.tableData=value.data.records //获取用户列表\r\n            this.total=value.data.total\r\n            this.$message.success(\"get notice success\")\r\n          }\r\n        })\r\n      },\r\n      //开始处理\r\n      handle(id) {\r\n        this.request.post('/api/complaint',{id:id,state:'正在处理'}).then(res=>{\r\n          if(res.code === '200'){\r\n            this.$message.success(\"开始处理\")\r\n            this.load()\r\n          }else{this.$message.error(\"操作失败\")}\r\n        })  \r\n      },\r\n      handleDelete(id) {\r\n        this.request.delete('/api/complaint'+id).then(res=>{\r\n          if(res.code === '200'){\r\n            this.$message.success(\"删除成功\")\r\n            this.load()\r\n          }else{\r\n            this.$message.error(\"删除失败\")\r\n          }\r\n        })  \r\n      },\r\n      //批量选择时\r\n      handleSelectionChange(val){\r\n        this.multipleSelection=val\r\n      },\r\n      //批量删除按键方法\r\n      delBatch(){\r\n        let ids = this.multipleSelection.map(v=>v.id)  //[1,2,3,4]\r\n          this.request.delete('api/complaint/batch',{data:ids}).then(res => {\r\n            if(res.code === '200'){\r\n              this.$message.success(\"批量删除成功\")\r\n              this.load()\r\n            }else{\r\n              this.$message.error(\"批量删除失败\")\r\n            }\r\n          })\r\n      },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.Complaint{\r\n  .search{\r\n    .el-input{\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n  .el-table .warning-row {\r\n    background: oldlace;\r\n  }\r\n\r\n  .el-table .success-row {\r\n    background: #f0f9eb;\r\n  }\r\n  .el-tooltip__popper{\r\n    display: none;\r\n  }\r\n  .el-popover{\r\n    border: 1px solid #333;\r\n    min-height: 150px;\r\n  }\r\n\r\n.text{\r\n  color:#000;\r\n  padding:5px;\r\n  border-radius:20px;\r\n}\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Complaint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Complaint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Complaint.vue?vue&type=template&id=0a593f2a&scoped=true&\"\nimport script from \"./Complaint.vue?vue&type=script&lang=js&\"\nexport * from \"./Complaint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Complaint.vue?vue&type=style&index=0&id=0a593f2a&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a593f2a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","model","value","doorplate","callback","$$v","trim","expression","on","load","_v","$event","delBatch","slot","tableData","handleSelectionChange","scopedSlots","_u","key","fn","scope","row","state","_s","handle","id","_e","handleDelete","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","name","data","dialogFormVisible","multipleSelection","created","methods","params","then","component"],"sourceRoot":""}