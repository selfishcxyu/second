{"version":3,"file":"js/485.752c78dc.js","mappings":"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","sources":["webpack://bylw/./src/views/User/Person.vue","webpack://bylw/src/views/User/Person.vue","webpack://bylw/./src/views/User/Person.vue?7263","webpack://bylw/./src/views/User/Person.vue?bb85"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"person\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"gutter\":15}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-card',{staticStyle:{\"width\":\"auto\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://localhost:90/file/upload\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess}},[(_vm.form.avatar)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.form.avatar}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('el-form',{attrs:{\"model\":_vm.form,\"label-width\":\"80px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"昵称\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, \"nickname\", $$v)},expression:\"form.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择性别\"},model:{value:(_vm.form.gender),callback:function ($$v) {_vm.$set(_vm.form, \"gender\", $$v)},expression:\"form.gender\"}},[_c('el-option',{attrs:{\"value\":\"男\"}}),_c('el-option',{attrs:{\"value\":\"女\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"maxlength\":\"11\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"身份证\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"maxlength\":\"18\"},model:{value:(_vm.form.idcard),callback:function ($$v) {_vm.$set(_vm.form, \"idcard\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.idcard\"}})],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveFormatReg}},[_vm._v(\"提交保存\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.changePassword}},[_vm._v(\"修改密码\")])],1)],1)],1)],1),_c('el-col',{attrs:{\"span\":14}},[_c('el-card',{staticStyle:{\"width\":\"700px\",\"margin-bottom\":\"20px\"}},[_c('h2',{staticStyle:{\"margin-bootom\":\"10px\"}},[_vm._v(\"我的房源信息\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.ResidenceData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"id\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"doorplate\",\"label\":\"门牌号\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"building\",\"label\":\"楼宇\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"size\",\"label\":\"规格\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"价格\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"area\",\"label\":\"面积/m²\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"入住时间\",\"width\":\"110\"}}),_c('el-table-column',{attrs:{\"prop\":\"note\",\"label\":\"备注\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"top\",\"width\":\"400\",\"trigger\":\"hover\"}},[_c('span',[_vm._v(\"备注:\"+_vm._s(scope.row.note))]),_c('span',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(_vm._s(scope.row.note ? scope.row.note : ''))])])]}}])})],1)],1),_c('el-card',{staticStyle:{\"width\":\"700px\"}},[_c('h2',{staticStyle:{\"margin-bootom\":\"10px\"}},[_vm._v(\"我的车位信息\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.ParkingData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"id\",\"width\":\"55\"}}),_c('el-table-column',{staticStyle:{\"text-align\":\"center\"},attrs:{\"prop\":\"number\",\"label\":\"车位编号\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"building\",\"label\":\"楼宇\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"state\",\"label\":\"车位状态\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.state =='空闲')?_c('span',{staticClass:\"text\",staticStyle:{\"backgroundColor\":\"#909399\"}},[_vm._v(_vm._s(scope.row.state))]):_c('span',{staticClass:\"text\",staticStyle:{\"backgroundColor\":\"#67C23A\"}},[_vm._v(_vm._s(scope.row.state))])]}}])})],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"person\">\r\n    <el-row type=\"flex\" :gutter=\"15\">\r\n        <el-col :span=\"10\">\r\n            <el-card style=\"width: auto;\">\r\n                <el-upload\r\n                    class=\"avatar-uploader\"\r\n                    action=\"http://localhost:90/file/upload\"\r\n                    :show-file-list=\"false\"\r\n                    :on-success=\"handleAvatarSuccess\"\r\n                >\r\n                    <img v-if=\"form.avatar\" :src=\"form.avatar\" class=\"avatar\">\r\n                    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                </el-upload>\r\n                <el-form :model=\"form\" label-width=\"80px\" size=\"small\">\r\n                    <el-form-item label=\"用户名\">\r\n                        <el-input v-model=\"form.username\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"昵称\">\r\n                        <el-input v-model=\"form.nickname\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"性别\">\r\n                        <el-select v-model=\"form.gender\" placeholder=\"请选择性别\">\r\n                            <el-option value=\"男\"></el-option>\r\n                            <el-option value=\"女\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"邮箱\">\r\n                    <el-input v-model.trim=\"form.email\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"电话\">\r\n                        <el-input v-model.trim=\"form.phone\" autocomplete=\"off\" maxlength=\"11\"></el-input>\r\n                    </el-form-item>\r\n                     <el-form-item label=\"身份证\">\r\n                        <el-input v-model.trim=\"form.idcard\" autocomplete=\"off\" maxlength=\"18\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"primary\" @click=\"saveFormatReg\" style=\"margin-right:20px\">提交保存</el-button>\r\n                        <el-button type=\"info\" @click=\"changePassword\">修改密码</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-card>\r\n        </el-col>\r\n\r\n        <el-col :span=\"14\">\r\n            <el-card style=\"width: 700px;margin-bottom:20px;\">\r\n                <h2 style=\"margin-bootom:10px;\">我的房源信息</h2>\r\n                <el-table :data=\"ResidenceData\" border style=\"width: 100%\" >\r\n                    <el-table-column prop=\"id\" label=\"id\" width=\"55\"></el-table-column>\r\n                    <el-table-column prop=\"doorplate\" label=\"门牌号\" width=\"80\"></el-table-column>\r\n                    <el-table-column prop=\"building\" label=\"楼宇\" width=\"80\"></el-table-column>\r\n                    <el-table-column prop=\"size\" label=\"规格\" width=\"80\"></el-table-column>\r\n                    <el-table-column prop=\"price\" label=\"价格\" width=\"80\"></el-table-column>\r\n                    <el-table-column prop=\"area\" label=\"面积/m²\" width=\"80\"></el-table-column>\r\n                    <el-table-column prop=\"time\" label=\"入住时间\" width=\"110\"></el-table-column>\r\n                    <el-table-column prop=\"note\" label=\"备注\" :show-overflow-tooltip='true'>\r\n                        <template slot-scope=\"scope\">\r\n                            <el-popover placement=\"top\" width=\"400\" trigger=\"hover\">\r\n                                <span>备注:{{scope.row.note}}</span>\r\n                                <span slot=\"reference\">{{scope.row.note ? scope.row.note : ''}}</span>\r\n                            </el-popover>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </el-card>\r\n            <el-card style=\"width: 700px;\">\r\n                <h2 style=\"margin-bootom:10px;\">我的车位信息</h2>\r\n                <el-table :data=\"ParkingData\" border style=\"width: 100%\" >\r\n                    <el-table-column prop=\"id\" label=\"id\" width=\"55\"></el-table-column>\r\n                    <el-table-column prop=\"number\" label=\"车位编号\" width=\"180\" style=\"text-align:center;\"></el-table-column>\r\n                    <el-table-column prop=\"building\" label=\"楼宇\" width=\"180\"></el-table-column>\r\n                    <el-table-column prop=\"state\" label=\"车位状态\" width=\"150\">\r\n                        <template slot-scope=\"scope\">\r\n                        <span v-if=\"scope.row.state =='空闲'\" style=\"backgroundColor:#909399;\" class=\"text\">{{scope.row.state}}</span> \r\n                        <span v-else style=\"backgroundColor:#67C23A;\" class=\"text\">{{scope.row.state}}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </el-card>\r\n        </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'Person',\r\n    data () {\r\n        return {\r\n            ResidenceData:[],\r\n            ParkingData:[],\r\n            form:{},\r\n            user:JSON.parse(sessionStorage.getItem(\"user\")) || '',\r\n            phoneReg: /^1[3|4|5|6|7|8|9]{1}[0-9]{9}/,  //纯数字、1开头、共11位\r\n            emailReg: /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/, \r\n            idcardReg: /^([1-6][1-9]|50)\\d{4}(18|19|20)\\d{2}((0[1-9])|10|11|12)(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$/,\r\n            idcardReg2: /^([1-6][1-9]|50)\\d{4}\\d{2}((0[1-9])|10|11|12)(([0-2][1-9])|10|20|30|31)\\d{3}$/,\r\n        }\r\n    },\r\n    created() {\r\n        this.load()\r\n    },\r\n    methods: {\r\n        //保存个人信息\r\n        save(){\r\n            this.request.post('/api/user',this.form).then(res => {\r\n                if(res.code === '200'){\r\n                    this.$message.success(\"保存成功\")\r\n                    //更新浏览器存储的用户信息\r\n                    this.request.get('/api/user/username/'+this.user.username).then(value => {\r\n                        if(value.code === '200'){\r\n                            let response = value.data\r\n                            response.token = this.user.token\r\n                            sessionStorage.setItem(\"user\",JSON.stringify(response))\r\n                            //保存到数据库后，更新Header信息\r\n                            this.$bus.$emit(\"update\")\r\n                        }\r\n                    })\r\n                }else{\r\n                    this.$message.error(\"编辑失败\")\r\n                }\r\n            })   \r\n        },\r\n        saveFormatReg(){\r\n            if(this.form.idcard){\r\n                this.form.idcard = this.form.idcard.split(' ').join('') //剔除空格\r\n            }\r\n            //验证手机号，邮箱，身份证格式\r\n            if(!this.emailReg.test(this.form.email)){\r\n                this.$message.error(\"邮箱格式错误！\")\r\n                return\r\n            }\r\n            if(!this.phoneReg.test(this.form.phone)){\r\n                this.$message.error(\"手机号格式错误！\")\r\n                return\r\n            }\r\n            if(!(this.idcardReg.test(this.form.idcard) || this.idcardReg2.test(this.form.idcard))){\r\n                this.$message.error(\"身份证格式错误！\")\r\n                return\r\n            }\r\n            this.save()\r\n        },\r\n        load(){\r\n            this.request.get('/api/user/username/'+this.user.username).then(res => {\r\n                if(res.code === '200'){\r\n                    this.form = res.data\r\n                }\r\n            })\r\n            this.request.get(\"/api/residence/\"+this.user.id).then(res => {\r\n                if(res.code === '200'){\r\n                    this.ResidenceData = res.data\r\n                }\r\n            })\r\n            this.request.get(\"/api/parking/\"+this.user.id).then(res => {\r\n                if(res.code === '200'){\r\n                    this.ParkingData = res.data\r\n                }\r\n            })\r\n        },\r\n        //上传头像成功的回调\r\n        handleAvatarSuccess(res){\r\n            this.form.avatar = res\r\n        },\r\n        changePassword(){\r\n            this.$store.commit('man/tabListAdd',{\r\n                path:'/password',\r\n                name:\"修改密码\"\r\n            })\r\n            this.$router.push('password')\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.avatar-uploader{\r\n    text-align: center;\r\n    padding-bottom: 15px;\r\n}\r\n.avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n  .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 158px;\r\n    height: 158px;\r\n    line-height: 158px;\r\n    text-align: center;\r\n  }\r\n  .avatar {\r\n    width: 158px;\r\n    height: 158px;\r\n    display: block;\r\n  }\r\n  .text{\r\n  color:#000;\r\n  padding:10px;\r\n  border-radius:20px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Person.vue?vue&type=template&id=7c60dbc3&scoped=true&\"\nimport script from \"./Person.vue?vue&type=script&lang=js&\"\nexport * from \"./Person.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Person.vue?vue&type=style&index=0&id=7c60dbc3&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c60dbc3\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","staticStyle","handleAvatarSuccess","form","avatar","model","value","username","callback","$$v","$set","expression","nickname","gender","email","trim","phone","idcard","on","saveFormatReg","_v","changePassword","ResidenceData","scopedSlots","_u","key","fn","scope","_s","row","note","slot","ParkingData","state","staticRenderFns","name","data","user","phoneReg","emailReg","idcardReg","idcardReg2","created","methods","save","response","sessionStorage","load","path","component"],"sourceRoot":""}