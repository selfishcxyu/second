{"version":3,"file":"js/705.77974c0f.js","mappings":"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","sources":["webpack://bylw/./src/views/Login/Login.vue","webpack://bylw/./src/utils/Identify.vue","webpack://bylw/src/utils/Identify.vue","webpack://bylw/./src/utils/Identify.vue?be7b","webpack://bylw/./src/utils/Identify.vue?abf3","webpack://bylw/src/views/Login/Login.vue","webpack://bylw/./src/views/Login/Login.vue?866a","webpack://bylw/./src/views/Login/Login.vue?5822"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"contain\"},[_c('div',{staticClass:\"login\"},[_c('h1',{staticStyle:{\"margin\":\"15px 0 30px 0\"}},[_vm._v(\"社区物业管理系统\")]),_c('el-form',{ref:\"ruleForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.ruleForm,\"label-position\":_vm.labelPosition}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"size\":\"medium\",\"placeholder\":\"  用户名\",\"prefix-icon\":\"el-icon-user\",\"clearable\":\"\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"size\":\"medium\",\"type\":\"password\",\"placeholder\":\"  密码\",\"show-password\":true,\"prefix-icon\":\"el-icon-lock\",\"clearable\":\"\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',[_c('el-select',{attrs:{\"placeholder\":\"请选择级别\"},model:{value:(_vm.ruleForm.level),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"level\", $$v)},expression:\"ruleForm.level\"}},[_c('el-option',{attrs:{\"label\":\"用户\",\"value\":\"user\"}}),_c('el-option',{attrs:{\"label\":\"员工\",\"value\":\"staff\"}}),_c('el-option',{attrs:{\"label\":\"管理员\",\"value\":\"admin\"}})],1)],1),_c('el-form-item',{attrs:{\"prop\":\"code\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"请输入验证码\",\"clearable\":\"\"},model:{value:(_vm.ruleForm.code),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"code\", $$v)},expression:\"ruleForm.code\"}})],1),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"loginCode\",on:{\"click\":_vm.refreshCode}},[_c('identify',{attrs:{\"identifyCode\":_vm.identifyCode}})],1)])],1),_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin\":\"0 20px 20px 0\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.log}},[_vm._v(\"登录\")]),_c('el-link',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.register}},[_vm._v(\"注册...\")])],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"s-canvas\"},[_c('canvas',{attrs:{\"id\":\"s-canvas\",\"width\":_vm.contentWidth,\"height\":_vm.contentHeight}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"s-canvas\">\r\n    <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"identify\",\r\n  props: {\r\n    identifyCode: {\r\n      type: String,\r\n      default: '6666'\r\n    },\r\n    fontSizeMin: {\r\n      type: Number,\r\n      default: 30\r\n    },\r\n    fontSizeMax: {\r\n      type: Number,\r\n      default: 32\r\n    },\r\n    backgroundColorMin: {\r\n      type: Number,\r\n      default: 255\r\n    },\r\n    backgroundColorMax: {\r\n      type: Number,\r\n      default: 255\r\n    },\r\n    colorMin: {\r\n      type: Number,\r\n      default: 30\r\n    },\r\n    colorMax: {\r\n      type: Number,\r\n      default: 70\r\n    },\r\n    lineColorMin: {\r\n      type: Number,\r\n      default: 250\r\n    },\r\n    lineColorMax: {\r\n      type: Number,\r\n      default: 255\r\n    },\r\n    contentWidth: {\r\n      type: Number,\r\n      default: 112\r\n    },\r\n    contentHeight: {\r\n      type: Number,\r\n      default: 38\r\n    }\r\n  },\r\n  methods: {\r\n    // 生成一个随机数\r\n    randomNum(min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min)\r\n    },\r\n    // 生成一个随机的颜色\r\n    randomColor(min, max) {\r\n      let r = this.randomNum(min, max)\r\n      let g = this.randomNum(min, max)\r\n      let b = this.randomNum(min, max)\r\n      return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n    },\r\n    drawPic() {\r\n      let canvas = document.getElementById('s-canvas')\r\n      let ctx = canvas.getContext('2d')\r\n      ctx.textBaseline = 'bottom'\r\n      // 绘制背景\r\n      ctx.fillStyle = this.randomColor(this.backgroundColorMin, this.backgroundColorMax)\r\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n      // 绘制文字\r\n      for (let i = 0; i < this.identifyCode.length; i++) {\r\n        this.drawText(ctx, this.identifyCode[i], i)\r\n      }\r\n      this.drawLine(ctx)\r\n      this.drawDot(ctx)\r\n    },\r\n    drawText(ctx, txt, i) {\r\n      ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\r\n      ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei'\r\n      let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n      let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n      var deg = this.randomNum(-45, 45)\r\n      // 修改坐标原点和旋转角度\r\n      ctx.translate(x, y)\r\n      ctx.rotate(deg * Math.PI / 180)\r\n      ctx.fillText(txt, 0, 0)\r\n      // 恢复坐标原点和旋转角度\r\n      ctx.rotate(-deg * Math.PI / 180)\r\n      ctx.translate(-x, -y)\r\n    },\r\n    drawLine(ctx) {\r\n      // 绘制干扰线\r\n      for (let i = 0; i < 4; i++) {\r\n        ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax)\r\n        ctx.beginPath()\r\n        ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n        ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n        ctx.stroke()\r\n      }\r\n    },\r\n    drawDot(ctx) {\r\n      // 绘制干扰点\r\n      for (let i = 0; i < 30; i++) {\r\n        ctx.fillStyle = this.randomColor(100, 255)\r\n        ctx.beginPath()\r\n        ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\r\n        ctx.fill()\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    identifyCode() {\r\n      this.drawPic()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.drawPic()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.s-canvas {\r\n  height: 38px;\r\n\r\n}\r\n.s-canvas canvas{\r\n  margin-top: 1px;\r\n  margin-left: 8px;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Identify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Identify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Identify.vue?vue&type=template&id=92b88252&scoped=true&\"\nimport script from \"./Identify.vue?vue&type=script&lang=js&\"\nexport * from \"./Identify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Identify.vue?vue&type=style&index=0&id=92b88252&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92b88252\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"contain\">\r\n        <div class=\"login\">\r\n            <h1 style=\"margin:15px 0 30px 0;\">社区物业管理系统</h1>\r\n            <el-form :rules=\"rules\" :model=\"ruleForm\" :label-position=\"labelPosition\" ref=\"ruleForm\">\r\n                <el-form-item prop=\"username\">\r\n                    <el-input size=\"medium\" v-model=\"ruleForm.username\" placeholder=\"  用户名\" prefix-icon=\"el-icon-user\" clearable autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"password\">\r\n                    <el-input size=\"medium\" type=\"password\" v-model=\"ruleForm.password\" placeholder=\"  密码\" :show-password=\"true\" prefix-icon=\"el-icon-lock\" clearable autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-select v-model=\"ruleForm.level\" placeholder=\"请选择级别\">\r\n                        <el-option label=\"用户\" value=\"user\"></el-option>\r\n                        <el-option label=\"员工\" value=\"staff\"></el-option>\r\n                        <el-option label=\"管理员\" value=\"admin\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item prop=\"code\">\r\n                    <el-col :span=\"12\">\r\n                        <el-input v-model=\"ruleForm.code\" autocomplete=\"off\" placeholder=\"请输入验证码\" clearable></el-input>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <div class=\"loginCode\" @click=\"refreshCode\">\r\n                            <!-- 验证码组件 -->    \r\n                            <identify :identifyCode=\"identifyCode\"></identify>\r\n                        </div>\r\n                    </el-col>\r\n                </el-form-item>\r\n                <el-button type=\"primary\" @click=\"log\" style=\"width: 100%; margin: 0 20px 20px 0;\">登录</el-button>\r\n                <el-link type=\"primary\" icon=\"el-icon-edit\" style=\"float: right;\" @click=\"register\">注册...</el-link>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport identify from \"@/utils/Identify.vue\"\r\n\r\nexport default {\r\n    name:'Login',\r\n    components:{ identify },\r\n    data() {\r\n        return {\r\n            labelPosition:'left',\r\n            identifyCodes: '1234567890abcdefjhijklmnopqrstuvwxyz',//随机串内容\r\n            identifyCode: '',\r\n            ruleForm:{\r\n                username:'',password:'',level:'user',code:''\r\n            },\r\n            rules:{\r\n                username: [\r\n                    { required: true, message: '请输入用户名', trigger: 'blur' },\r\n                    { pattern:/^[0-9a-zA-Z_]{3,15}$/, message: '用户名由3到15位数字、字母或下划线组成', trigger: 'blur' }\r\n                ],\r\n                password: [\r\n                    { required: true, message: '请输入密码', trigger: 'blur' },\r\n                    { pattern:/^[0-9a-zA-Z_]{3,20}$/, message: '密码由3到20位数字、字母或下划线组成', trigger: 'blur' }\r\n                ],\r\n                code: [\r\n                    { required: true, message: \"请输入验证码\", trigger: \"blur\"},\r\n                    { min:4, max:4, message: '验证码为4位字符,不包含空格', trigger: 'blur' }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    mounted () {\r\n        //不管有没有获得焦点，键盘事件都有效。在页面创建时添加键盘弹起时事件\r\n        document.addEventListener('keyup', e => {\r\n            let key = window.event.keyCode\r\n            if(key==13){\r\n                this.log()\r\n            }\r\n        })\r\n        this.refreshCode()\r\n    },\r\n    methods:{\r\n        //刷新验证码随机数\r\n        refreshCode(){\r\n            this.identifyCode = ''\r\n            this.makeCode(4)\r\n        },\r\n        //从字典随机选取len个随机数的组合\r\n        makeCode(len){\r\n            for(let i = 0; i < len; i++){\r\n                this.identifyCode += this.identifyCodes[this.randomNum(0,this.identifyCodes.length)]\r\n            }\r\n        },\r\n        //获取0到max-min间的随机数再加min就是min到max间的随机数\r\n        randomNum(min,max){\r\n            return Math.floor(Math.random() * (max-min) + min)\r\n        },\r\n        log(){\r\n            //提交前表单认证\r\n            this.$refs.ruleForm.validate((valid) => {\r\n                if(this.ruleForm.code !== this.identifyCode){\r\n                    this.$message.error(\"验证码错误\")\r\n                    this.refreshCode()\r\n                    return \r\n                }\r\n                if(valid) {\r\n                    this.request.post('api/user/login',this.ruleForm).then(res => {\r\n                        if(res.code === '200'){\r\n                            //用户信息存入浏览器\r\n                            res.data.password = ''\r\n                            sessionStorage.setItem(\"user\",JSON.stringify(res.data))\r\n                            \r\n                            this.$store.commit('man/tabListAdd',{\r\n                                path:'home',\r\n                                name:\"首页\"\r\n                            })\r\n                            //获取菜单信息（身份在上面辨别，在这只需传入level以获取菜单权限）\r\n                            this.request.get('/api/menu/'+this.ruleForm.level).then(value => {\r\n                                if(value.code==='200'){\r\n                                    const menu = value.data\r\n                                    menu.unshift({ //前面添加主页的路径\r\n                                        path:'home',name:'首页',icon:'s-home'\r\n                                    })\r\n                                    ///组装多级菜单\r\n                                    // const menu = value.data\r\n                                    // menu.map(item=>{\r\n                                    //     if(item.url.split('/')[1]){\r\n                                    //         console.log(\"split\");\r\n                                    //     }\r\n                                    // })\r\n                                    ///菜单数据在data.data.menu，获取菜单数据存入store/state/menuList，传入sessionStorage\r\n                                    sessionStorage.setItem(\"menu\",JSON.stringify(value.data))\r\n                                    //把路由传递给mutations，动态添加\r\n                                    this.$store.commit('man/addMenu',this.$router)\r\n                                }\r\n                            })\r\n                            //添加上判断可以刷新的标识\r\n                            sessionStorage.setItem(\"refresh\",true)\r\n                            console.log(\"home\");\r\n                            this.$router.push('/home')\r\n                            this.$message.success(\"login success\")\r\n                        }else{\r\n                            this.$message.error(res.msg)\r\n                        }\r\n                    })\r\n                } else {\r\n                    console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        register(){\r\n            this.$router.push('/register')\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .contain{\r\n        background: url(\"@/assets/images/logBG.png\") no-repeat;\r\n        background-position: center;\r\n        height: 100vh;\r\n        width: 100%;\r\n        background-size: cover;\r\n        position: fixed;\r\n        .login{\r\n            margin: 160px auto;\r\n            width: 400px;\r\n            height: 500px;\r\n            text-align: center;\r\n            padding: 5px 40px;\r\n            border: 1px solid #000;\r\n            background-color: #00000098;\r\n            user-select: none;\r\n            box-sizing: border-box;\r\n            box-shadow: 5px 10px 5px #161616a8;\r\n            .loginCode{\r\n                margin: 15px auto;\r\n                border-radius: 10px;\r\n            }\r\n            h1{\r\n                font-family: \"微软雅黑\";\r\n                color: #fff;\r\n            }\r\n            /deep/ .el-form-item {\r\n                background-color: unset !important;\r\n            }\r\n            /deep/ .el-input__inner {\r\n                margin-top: 15px;\r\n                background-color: rgba(255, 255, 255, 0.247);\r\n            }\r\n            /deep/ .el-input input {\r\n                color: #fff !important;\r\n            }\r\n            /deep/ .el-input__icon{\r\n                height: 134%;\r\n            }\r\n        }\r\n    }\r\n    \r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7fc0ece0&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=7fc0ece0&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fc0ece0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","_v","ref","attrs","rules","ruleForm","labelPosition","model","value","username","callback","$$v","$set","expression","password","level","code","on","refreshCode","identifyCode","log","register","staticRenderFns","contentWidth","contentHeight","name","props","type","default","fontSizeMin","fontSizeMax","backgroundColorMin","backgroundColorMax","colorMin","colorMax","lineColorMin","lineColorMax","methods","randomNum","randomColor","drawPic","ctx","drawText","drawLine","drawDot","watch","mounted","component","components","identify","data","identifyCodes","required","message","trigger","pattern","min","max","document","makeCode","res","sessionStorage","path","menu","icon","console"],"sourceRoot":""}